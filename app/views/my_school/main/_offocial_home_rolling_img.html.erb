<style type="text/css">
  #demo_rolling {
    background: #FFF;
    overflow:hidden;
    width: 100%;
    height: 370px;
  }
  #demo_rolling img {
    border: 3px solid #F2F2F2;
    height: 370px;
  }
  #indemo {
    float: left;
    width: 800%;
    height: 370px;
  }
  #demo1 {
    float: left;
    height: 370px;
  }
  #demo1 a{
    float: left;
  }
  #demo2 {
    float: left;
    height: 370px;
  }
</style>
<!-- <div class="showcase">
  <div class="carousel main"> -->
<%if @img.blank?%>
  <a href="/t/colorful/483-5552.jpg" class="fancybox" title="">
    <img src="/t/colorful/483-5552.jpg" alt="" height="370"/>
  </a>
<%elsif @img.size==1%>
  <a  href="<%= @img.first.try(:page_img).public_filename %>" class="fancybox"  title="<%= @img.first.title %>">
    <img src="<%= @img.first.try(:page_img).public_filename %>" alt="" height="370"/>
  </a>

<%else%>
  <div id="demo_rolling">
    <div id="indemo">
      <div id="demo1">
        <% @img.each do |entry| %>
          <% if entry.page_img %>
            <a  href="<%= entry.page_img.public_filename %>" class="fancybox"  title="<%= entry.title %>">
              <%if image_type == "middle"%>
                <img src="<%= entry.page_img.public_filename(:middle)%>" onerror="<%=entry.page_img.public_filename%>" alt="" height="370"/>
              <%else%>
                <img src="<%= entry.page_img.public_filename %>" alt="" height="370"/>
              <%end%>
            </a>
          <%end%>
        <%end%>
      </div>

      <div id="demo2"></div>
    </div>
  </div>
  <script  type="text/javascript">
  $(function() {
    $(".fancybox").fancybox();
    var speed=20;
    var tab=document.getElementById("demo_rolling");
    if (tab)
    {
    var tab1=document.getElementById("demo1");
    var tab2=document.getElementById("demo2");
    tab2.innerHTML=tab1.innerHTML;
    function Marquee(){
      if(tab2.offsetWidth-tab.scrollLeft<=0)
        tab.scrollLeft-=tab1.offsetWidth
      else{
        tab.scrollLeft++;
      }
    }
    var MyMar=setInterval(Marquee,speed);
    tab.onmouseover=function() {clearInterval(MyMar)};
    tab.onmouseout=function() {MyMar=setInterval(Marquee,speed)};
  }
  });
</script>
<%end%>
<!-- </div>
</div> -->